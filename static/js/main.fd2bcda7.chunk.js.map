{"version":3,"sources":["components/Legend.js","components/Map.js","components/Polygon.js","components/TimeSeries.js","components/BarChart.js","components/Tooltip.js","Shanghai.js","components/BarChartB.js","Beijing.js","App.js","reportWebVitals.js","index.js"],"names":["Legend","props","x","y","width","height","id","transform","fill","GenerateMap","WIDTH","HEIGHT","selectedNeighbourhood","data","setSelectedNeighbourhood","path","neighbourhoodNames","neighbourhoodsCount","setTooltipX","setTooltipY","name","mapData","jsonPath","React","useState","type","features","setData","useEffect","d3","then","geoJsonData","useMap","projection","fitSize","mapPathing","legendStart","neighbourhoods","map","feature","idx","color","opacity","length","className","d","fillOpacity","stroke","strokeWidth","neighbourhood","onMouseEnter","event","pageX","pageY","onMouseLeave","Polygon","points","join","TimeSeries","xScale","yScale","ticksX","SelectedNeighbourhood","mouseHoveringOn","mouseHoveringOff","domain","ticksY","ticks","p1","date","y0","y1","Number","total","curve","style","fontSize","x1","x2","y2","tickValue","textAnchor","BarChart","ticksx","ticksy","split","slice","price","bandwidth","onMouseOver","onMouseOut","Tooltip","left","top","i","divStyle","position","textAlign","padding","font","background","border","borderRadius","pointerEvents","Average","maximum","minimum","Entire","Private","Shared","reviews","useData","csvPath","dataAll","Shanghai","tooltipX","tooltipY","margin","innerWidth","innerHeight","uiPolyHeight","window","polyRef","useRef","PriceData","TooltipData","monthData","neighbourhoodGrouping","filter","push","districtData","console","log","xScaleBar","range","yScaleBar","nice","xScaleArea","yScaleArea","current","animationName","animation","backgroundColor","ref","uiPolyWidth","BarChartB","Beijing","App","selectedCity","setSelectedCity","Select","label","placeholder","options","value","onChange","styles","class","onSelect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd2bcda7.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Legend(props) {\n  const { x, y } = props;\n  const width = x;\n  const height = 30;\n  return (\n    <g id=\"Legend\" transform={`translate(0,35)`}>\n      <rect x={x} y={y} width={width} height={height} fill={\"#57068c\"} />\n      <text x={x + width + 10} y={y + height / 2 + 6} fill={\"#57068c\"}>\n        {\">\"}10K\n      </text>\n      <rect\n        x={x}\n        y={y + height}\n        width={width}\n        height={height}\n        fill={\"#702b9d\"}\n      />\n      <text x={x + width + 10} y={y + 1.7 * height} fill={\"#57068c\"}>\n        10K - 3K\n      </text>\n      <rect\n        x={x}\n        y={y + height * 2}\n        width={width}\n        height={height}\n        fill={\"#8950ae\"}\n      />\n      <text x={x + width + 10} y={3 * y} fill={\"#57068c\"}>\n        3K - 2K\n      </text>\n      <rect\n        x={x}\n        y={y + height * 3}\n        width={width}\n        height={height}\n        fill={\"#a376c0\"}\n      />\n      <text x={x + width + 10} y={4 * y - height / 3} fill={\"#57068c\"}>\n        2K - 1K\n      </text>\n      <rect\n        x={x}\n        y={y + height * 4}\n        width={width}\n        height={height}\n        fill={\"#bc9bd1\"}\n      />\n      <text x={x + width + 10} y={5 * y - height / 1.5} fill={\"#57068c\"}>\n        1K - 600\n      </text>\n      <rect\n        x={x}\n        y={y + height * 5}\n        width={width}\n        height={height}\n        fill={\"#d5c1e2\"}\n      />\n      <text x={x + width + 10} y={5 * y + height / 3} fill={\"#57068c\"}>\n        600 - 200\n      </text>\n      <rect\n        x={x}\n        y={y + height * 6}\n        width={width}\n        height={height}\n        fill={\"#eee6f3\"}\n      />\n      <text x={x + width + 10} y={6 * y} fill={\"#57068c\"}>\n        {\"<\"}200\n      </text>\n    </g>\n  );\n}\n\nexport default Legend;\n","import React from \"react\";\nimport * as d3 from \"d3\";\nimport legend from \"./Legend.js\";\nimport { select } from \"d3\";\nimport Legend from \"./Legend.js\";\n\nfunction useMap(jsonPath) {\n  const [data, setData] = React.useState({ type: \"\", features: [] });\n\n  React.useEffect(() => {\n    d3.json(jsonPath).then((geoJsonData) => {\n      setData(geoJsonData);\n    });\n  }, []);\n  return data;\n}\n\nfunction GenerateMap(props) {\n  const {\n    x,\n    y,\n    WIDTH,\n    HEIGHT,\n    data,\n    selectedNeighbourhood,\n    setSelectedNeighbourhood,\n    path,\n    neighbourhoodNames,\n    neighbourhoodsCount,\n    setTooltipX, \n    setTooltipY,\n    name\n  } = props;\n\n  const mapData = useMap(path);\n\n  const projection = d3.geoMercator().fitSize([WIDTH, HEIGHT], mapData);\n  const mapPathing = d3.geoPath(projection);\n\n  const legendStart = [30, 40];\n  //   const radius = d3\n  //     .scaleLinear()\n  //     .range([2, 20])\n  //     .domain([d3.min(data, (d) => d.start), d3.max(data, (d) => d.start)]);\n\n  let neighbourhoods = mapData.features.map((feature, idx) => {\n    let color = \"#57068c\";\n    let opacity = 1;\n\n    if (neighbourhoodsCount[idx].length > 10000) {\n      color = \"#57068c\";\n    } else if (neighbourhoodsCount[idx].length > 3000) {\n      color = \"#702b9d\";\n    } else if (neighbourhoodsCount[idx].length > 2000) {\n      color = \"#8950ae\";\n    } else if (neighbourhoodsCount[idx].length > 1000) {\n      color = \"#a376c0\";\n    } else if (neighbourhoodsCount[idx].length > 600) {\n      color = \"#bc9bd1\";\n    } else if (neighbourhoodsCount[idx].length > 200) {\n      color = \"#d5c1e2\";\n    } else {\n      color = \"#eee6f3\";\n    }\n\n    if (selectedNeighbourhood != \" \") {\n      opacity = 0.7;\n\n    }\n\n    if (neighbourhoodNames[idx] == selectedNeighbourhood) {\n      color = \"#e60969\";\n      opacity = 1;\n    }\n\n    return (\n      <path\n        key={idx + \"boundary\"}\n        className={\"boundary\"}\n        id={\"neighbourhood\" + idx}\n        d={mapPathing(feature)}\n        fill={color}\n        fillOpacity={opacity}\n        stroke={\"#57068c\"}\n        strokeWidth={\"1px\"}\n        neighbourhood={neighbourhoodNames[idx]}\n        onMouseEnter={(event) => {\n          setSelectedNeighbourhood(neighbourhoodNames[idx]);\n          setTooltipX(event.pageX);\n          setTooltipY(event.pageY);\n        }}\n        onMouseLeave={() => {\n          setSelectedNeighbourhood(\" \");\n          setTooltipX(null);\n          setTooltipY(null);\n        }}\n      />\n    );\n  });\n\n  return (\n    <svg width={WIDTH} height={HEIGHT}>\n      {selectedNeighbourhood}\n      <g id=\"neighbourhoods\" transform={`translate(${x}, ${y}) scale(.8)`}>\n        {neighbourhoods}\n      </g>\n\n      <Legend x={legendStart[0]} y={legendStart[1]} />\n      <text x={30} y={40} id=\"vizTitle\">\n        AIRBNBS IN {name}\n      </text>\n    </svg>\n  );\n}\n\nexport default GenerateMap;\n","import React from \"react\";\n\nfunction Polygon(props) {\n  const { points } = props;\n  return (\n    <g className=\"polygon\">\n      <polygon points={points.join(\" \")} />\n    </g>\n  );\n}\n\nexport default Polygon;\n","import React from \"react\";\nimport * as d3 from \"d3\";\n\nfunction TimeSeries(props) {\n  const {\n    data,\n    x,\n    y,\n    width,\n    height,\n    xScale,\n    yScale,\n    neighbourhoodNames,\n    SelectedNeighbourhood,\n    setSelectedNeighbourhood,\n    mouseHoveringOn,\n    mouseHoveringOff,\n} = props;\n\n  const ticksX = xScale.domain();\n  const ticksY = yScale.ticks(10);\n\n  const p1 = d3.area()\n    .x(d => xScale(d.date))\n    .y0(height - 129)\n    .y1(d => yScale(Number(d.total)))\n    .curve(d3.curveBasis)\n    (data);\n\n    return <g transform={`translate(${x + 105}, ${y + 50})`} >\n      <path d={p1} fill={'darkblue'} />\n      <text transform={`translate(${180}, ${-55})rotate(0)`} style={{fontSize:'20px' }}>\n                    {'Popularity of District'}\n\n            </text>\n      <text transform={`translate(${-55}, ${-30})rotate(0)`} style={{fontSize:'18px' }}>\n                    {\"Total Reviews\"}\n            </text>\n      <text transform={`translate(${width + 200}, ${height - 87})rotate(0)`} style={{fontSize:'18px' }}>\n                    {\"Month\"}\n            </text>\n      <line x1={0} y1={(height - 129)} x2={width-150} y2={(height - 129)} stroke={`black`} />\n      {ticksX.map( tickValue => {\n        return <g key={tickValue} transform={`translate(${xScale(tickValue)}, ${(height) - 129})`}>\n                <line y2={10} stroke={\"black\"} />\n                <text transform= 'translate(5,-25)' style={{ textAnchor:'end', fontSize:'15px'}} y={50}>\n                {tickValue}\n                </text>\n                </g>\n              })}\n      <line y1={(height - 129)} y2={(height - 360)} stroke={`black`} />\n      {ticksY.map( tickValue => {\n        return <g key={tickValue} transform={`translate(-5, ${yScale(tickValue)})`}>\n                <line x2={5} stroke={\"black\"} />\n                <text style={{ textAnchor:'end', fontSize:'15px' }}>\n                {tickValue}\n                </text>\n            </g> \n        })}\n  </g>\n  }\n\nexport default TimeSeries;\n","import React from \"react\";\n\n\nfunction BarChart(props) {\n  const {\n    x,\n    y,\n    width,\n    height,\n    data,\n    selectedNeighbourhood,\n    mouseHoveringOn,\n    mouseHoveringOff,\n    xScale,\n    yScale,\n    setTooltipX,\n    setTooltipY\n    } = props;\n\n  const color = (d) => d.neighbourhood === selectedNeighbourhood ? \"#e60969\" : \"#57068c\";\n  \n  const ticksx = xScale.domain();\n  const ticksy = yScale.ticks(8);\n\n\n  if (selectedNeighbourhood === \" \") {\n    return (\n      <g transform={`translate(${x}, ${y})`}>\n        <text style={{ textAnchor: \"start\", fontSize: \"20px\" }} transform={`translate(${width / 3 -50}, -140)`}>\n          {\"Average Prices of Listings per neighbourhood\"}\n        </text>\n        <line\n          x1={100}\n          y1={(height / 2) - 70}\n          x2={width - 80}\n          y2={(height / 2) - 70}\n          stroke={`black`}\n        />\n        <line y1={height/2 -70} y2={height / 2 -250} x1={100} x2={100} stroke={`black`} />\n        <g transform={`translate(${0}, ${-18})`}>\n        {ticksx.map((tickValue) => {\n          return (\n            <g key={tickValue} transform={`translate(${xScale(tickValue)}, ${(height / 2)})`}>\n            <text style={{textAnchor: 'start', fontSize:'10px' }} x={-80} y={(height / 2) - 170} transform={`rotate(50, 0, ${(height / 2) - 83})`}>\n              {tickValue.split('/')[1].slice(0,tickValue.split('/')[1].length-8)}\n            </text>\n            </g>\n            );\n        })\n        }\n        {ticksy.map((tickValue) => {\n          return (\n            <g key={tickValue} transform={`translate(90, ${yScale(tickValue)-100})`}>\n              <line x2={10} stroke={\"black\"} />\n              <text style={{ textAnchor: \"end\", fontSize: \"18px\" }}>\n                {tickValue}\n              </text>\n            </g>\n          );\n        })}\n        </g>\n        <g transform={`translate(${0}, ${-115})`}>\n        {data.map((d) => {\n          //   console.log(d.neighbourhood);\n          //   console.log(d.price);\n          return (\n            <rect\n              key={d.neighbourhood + \"Bar\"}\n              x={xScale(d.neighbourhood)}\n              y={yScale(Number(d.price))}\n              width={xScale.bandwidth() -5 } //error\n              height={height / 2 +45 -yScale(d.price)}\n              fill={\"#57068c\"}\n              stroke={\"black\"}\n              onMouseOver={() => mouseHoveringOn(d)\n              }\n              onMouseOut={mouseHoveringOff}\n\n            />\n          );\n        })}\n        </g>\n      </g>\n    );\n  } else {\n    return (\n      <g transform={`translate(${x}, ${y})`}>\n      <text style={{ textAnchor: \"start\", fontSize:'20px'}} transform={`translate(${width / 3 -50}, -140)`}>\n        {\"Average Prices of Listings per neighbourhood\"}\n      </text>\n      <line\n        x1={100}\n        y1={(height / 2) - 70}\n        x2={width - 80}\n        y2={(height / 2) - 70}\n        stroke={`black`}\n      />\n        <line y1={height/2 -70} y2={height / 2 -250} x1={100} x2={100} stroke={`black`} />\n        <g transform={`translate(${0}, ${-18})`}>\n        {ticksx.map((tickValue) => {\n          return (\n            <g key={tickValue} transform={`translate(${xScale(tickValue)}, ${(height / 2)})`}>\n            <text style={{textAnchor: 'start', fontSize:'10px' }} x={-80} y={(height / 2) - 170} transform={`rotate(50, 0, ${(height / 2) - 83})`}>\n              {tickValue.split('/')[1].slice(0,tickValue.split('/')[1].length-8)}\n            </text>\n            </g>\n            );\n        })\n        }\n        {ticksy.map((tickValue) => {\n          return (\n            <g key={tickValue} transform={`translate(90, ${yScale(tickValue)-100})`}>\n              <line x2={10} stroke={\"black\"} />\n              <text style={{ textAnchor: \"end\", fontSize: \"18px\" }}>\n                {tickValue}\n              </text>\n            </g>\n          );\n        })}\n        </g>\n        <g transform={`translate(${0}, ${-115})`}>\n        {data.map((d) => {\n          //console.log(key);\n          return (\n            <rect\n              key={d.neighbourhood + \"Bar\"}\n              x={xScale(d.neighbourhood)}\n              y={yScale(d.price)}\n              width={xScale.bandwidth()-5} //error\n              height={height / 2 +45 - yScale(d.price)}\n              fill={color(d)}\n              stroke={\"black\"}\n              onMouseOver={() => mouseHoveringOn(d)}\n              onMouseOut={mouseHoveringOff}\n            />\n          );\n\n        })}\n        </g>\n      </g>\n    );\n  }\n}\n\nexport default BarChart;\n","import React from \"react\";\nimport * as d3 from \"d3\";\nimport GenerateMap from \"./Map\";\nimport TimeSeries from \"./TimeSeries\";\nimport { range, select } from \"d3\";\n\nfunction Tooltip(props) {\n    const {d, data, left, top} = props;\n        //console.log(d);\n    if (d === null)  {\n        return <g></g>;\n    } else {\n        // console.log(d);\n        // console.log(data);\n\n        if (data.length > 0){\n\n        for (let i = 0; i < 16; i++) {\n             if (d === data[i].neighbourhood){\n                const divStyle = {\n                    position: \"absolute\",\n                    textAlign: \"center\",\n                    width: \"300px\",\n                    height: \"160px\",\n                    padding: \"2px\",\n                    font: \"12px sans-serif\",\n                    background: \"floralwhite\",\n                    border: \"2px\",\n                    borderRadius: \"8px\",\n                    pointerEvents: \"none\",\n                    left: `${left}px`,\n                    top: `${top}px`\n                };\n\n\n                return <div style={divStyle} >\n                    <p>{}</p>\n                <p>Aggregate statistics for the {data[i].neighbourhood}</p>\n                <ul> \n                {/* <li>End in: {}</li> */}\n                <li>Average listing price: {data[i].Average}</li>\n                <li>Maximum price: {data[i].maximum}</li>\n                <li>Minimum price: {data[i].minimum}</li>\n                <li>Number of entire homes/aptm: {data[i].Entire}</li>\n                <li>Number of private rooms: {data[i].Private}</li>\n                <li>Number of shared rooms: {data[i].Shared}</li>\n                <li>Average number of reviews/month: {data[i].reviews}</li>\n                </ul>\n                </div>\n                }\n                \n          }\n        };\n        return <g></g>;\n    }\n};\n\nexport default Tooltip;","import React from \"react\";\nimport \"./App.css\";\nimport GenerateMap from \"./components/Map.js\";\nimport Polygon from \"./components/Polygon.js\";\nimport TimeSeries from \"./components/TimeSeries.js\";\nimport BarChart from \"./components/BarChart.js\";\nimport Tooltip from \"./components/Tooltip.js\";\nimport * as d3 from \"d3\";\nimport DropdownButton from 'react-bootstrap/DropdownButton'\nimport { Dropdown, Selection } from 'react-dropdown-now';\nimport 'react-dropdown-now/style.css';\n\nfunction useData(csvPath) {\n  const [dataAll, setData] = React.useState([]);\n  React.useEffect(() => {\n    d3.csv(csvPath).then((data) => {\n      // data.forEach((d) => {});\n      setData(data);\n    });\n  }, []);\n\n  // console.log(dataAll);\n  return dataAll;\n}\n\nfunction Shanghai(props) {\n  const {\n    name\n  }=props;\n  const [selectedNeighbourhood, setSelectedNeighbourhood] = React.useState(\" \");\n  const [tooltipX, setTooltipX] = React.useState(null);\n  const [tooltipY, setTooltipY] = React.useState(null);\n\n\n  const width = 1500;\n  const height = 990;\n  const margin = { top: 70, right: 40, bottom: 160, left: 60, gap: 40 };\n  const innerWidth = width - margin.left - margin.right - margin.gap;\n  const innerHeight = height - margin.top - margin.bottom - margin.gap;\n\n  const uiPolyHeight = window.innerHeight / 2;\n  const uiPolyWidth = 150;\n  const polyRef = React.useRef(null);\n\n  const dataPath = \"./data/listings.csv\";\n  const mapPath = \"./data/neighbourhoods.geojson\";\n  const PricePath = \"./data/av_prices.csv\";\n  const TooltipPath = \"./data/tooltip_stats.csv\";\n  const monthPath = \"./data/neighbourhood_months.csv\";\n\n  const dataAll = useData(dataPath);\n  const PriceData = useData(PricePath);\n  const TooltipData = useData(TooltipPath);\n  const monthData = useData(monthPath);\n  \n  // console.log(\"FFFFF\");\n  // console.log(TooltipData);\n\n  const neighbourhoodNames = [\n    \"青浦区 / Qingpu District\",\n    \"黄浦区 / Huangpu District\",\n    \"浦东新区 / Pudong\",\n    \"杨浦区 / Yangpu District\",\n    \"虹口区 / Hongkou District\",\n    \"静安区 / Jing'an District\",\n    \"宝山区 / Baoshan District\",\n    \"普陀区 / Putuo District\",\n    \"长宁区 / Changning District\",\n    \"徐汇区 / Xuhui District\",\n    \"闵行区 / Minhang District\",\n    \"嘉定区 / Jiading District\",\n    \"崇明区 / Chongming District\",\n    \"奉贤区 / Fengxian District\",\n    \"金山区 / Jinshan District\",\n    \"松江区 / Songjiang District\",\n  ];\n\n  let neighbourhoodGrouping = [\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n  ];\n\n  dataAll.filter(function (d) {\n    //\"青浦区 / Qingpu District\"\n    if (d.neighbourhood === \"青浦区 / Qingpu District\") {\n      neighbourhoodGrouping[0].push(d);\n    }\n    //\"黄浦区 / Huangpu District\"\n    if (d.neighbourhood === \"黄浦区 / Huangpu District\") {\n      neighbourhoodGrouping[1].push(d);\n    }\n    //\"浦东新区 / Pudong\"\n    if (d.neighbourhood === \"浦东新区 / Pudong\") {\n      neighbourhoodGrouping[2].push(d);\n    }\n    //\"杨浦区 / Yangpu District\"\n    if (d.neighbourhood === \"杨浦区 / Yangpu District\") {\n      neighbourhoodGrouping[3].push(d);\n    }\n    //\"虹口区 / Hongkou District\"\n    if (d.neighbourhood === \"虹口区 / Hongkou District\") {\n      neighbourhoodGrouping[4].push(d);\n    }\n    //\"静安区 / Jing'an District\"\n    if (d.neighbourhood === \"静安区 / Jing'an District\") {\n      neighbourhoodGrouping[5].push(d);\n    }\n    //\"宝山区 / Baoshan District\"\n    if (d.neighbourhood === \"宝山区 / Baoshan District\") {\n      neighbourhoodGrouping[6].push(d);\n    }\n    //\"普陀区 / Putuo District\"\n    if (d.neighbourhood === \"普陀区 / Putuo District\") {\n      neighbourhoodGrouping[7].push(d);\n    }\n    //\"长宁区 / Changning District\"\n    if (d.neighbourhood === \"长宁区 / Changning District\") {\n      neighbourhoodGrouping[8].push(d);\n    }\n    //\"徐汇区 / Xuhui District\"\n    if (d.neighbourhood === \"徐汇区 / Xuhui District\") {\n      neighbourhoodGrouping[9].push(d);\n    }\n    //\"闵行区 / Minhang District\"\n    if (d.neighbourhood === \"闵行区 / Minhang District\") {\n      neighbourhoodGrouping[10].push(d);\n    }\n    //\"嘉定区 / Jiading District\"\n    if (d.neighbourhood === \"嘉定区 / Jiading District\") {\n      neighbourhoodGrouping[11].push(d);\n    }\n    //\"崇明区 / Chongming District\"\n    if (d.neighbourhood === \"崇明区 / Chongming District\") {\n      neighbourhoodGrouping[12].push(d);\n    }\n    //\"奉贤区 / Fengxian District\"\n    if (d.neighbourhood === \"奉贤区 / Fengxian District\") {\n      neighbourhoodGrouping[13].push(d);\n    }\n    //\"金山区 / Jinshan District\"\n    if (d.neighbourhood === \"金山区 / Jinshan District\") {\n      neighbourhoodGrouping[14].push(d);\n    }\n    //\"松江区 / Songjiang District\"\n    if (d.neighbourhood === \"松江区 / Songjiang District\") {\n      neighbourhoodGrouping[15].push(d);\n    }\n  });\n\n  const selected = TooltipData.filter(\n    (d) => d.neighbourhood === selectedNeighbourhood\n  )[0];\n\n  const districtData = monthData.filter( d=> {\n    return d.neighbourhood == selectedNeighbourhood;\n  });\n\n  const mouseHoveringOn = (d) => {\n    setSelectedNeighbourhood(d.neighbourhood);\n    setTooltipX(480);\n    setTooltipY(550);\n    console.log(\"mouse over on\");\n  };\n  const mouseHoveringOff = () => {\n    setSelectedNeighbourhood(\" \");\n    console.log(\"mouse over off\");\n    setTooltipX(null);\n    setTooltipY(null);\n  };\n\n  const xScaleBar = d3\n    .scaleBand()\n    .range([100, window.innerWidth - 800])\n    .domain(PriceData.map((d) => d.neighbourhood));\n\n  const yScaleBar = d3\n    .scaleLinear()\n    .range([window.innerHeight / 4, 0])\n    .domain([0, d3.max(PriceData, (d) => Number(d.price))])\n    .nice();\n\n  const xScaleArea =  d3.scaleBand()\n    .range([0, (innerWidth-800)])\n    .domain(districtData.map((d)=> d.date));\n\n  const yScaleArea = d3.scaleLinear()\n    .range([window.innerHeight/4 + 25,0])\n    .domain([0, d3.max(districtData, d => Number(d.total))])\n    .nice();\n\n\n  if (polyRef.current != null) {\n    if (\n      selectedNeighbourhood != \" \" &&\n      polyRef.current.style.animationName != \"removePoly\"\n    ) {\n      polyRef.current.style.animation = \"removePoly ease-out 0.5s forwards\";\n    } else if (\n      selectedNeighbourhood == \" \" &&\n      polyRef.current.style.animationName != \"removePolyrev\"\n    ) {\n      polyRef.current.style.animation = \"removePolyrev ease-out 0.5s forwards\";\n    }\n  }\n\n\n\n  \n  // normal usage\n\n\n  return (\n    <div className=\"App\">\n\n      <div id=\"choropleth\">\n\n        <GenerateMap\n          x={margin.left}\n          y={margin.top+50}\n          WIDTH={innerWidth / 2}\n          HEIGHT={innerHeight + margin.gap+50}\n          data={dataAll}\n          path={mapPath}\n          setSelectedNeighbourhood={setSelectedNeighbourhood}\n          selectedNeighbourhood={selectedNeighbourhood}\n          neighbourhoodNames={neighbourhoodNames}\n          neighbourhoodsCount={neighbourhoodGrouping}\n          setTooltipX={setTooltipX} \n          setTooltipY={setTooltipY}\n          name={name}\n        />\n        <div id=\"selectNeighbourhood\">{\": \" + selectedNeighbourhood}</div>\n\n        <Tooltip\n          d={selectedNeighbourhood}\n          data={TooltipData}\n          left={tooltipX}\n          top={tooltipY}\n          height={innerHeight / 2}\n          width={(innerWidth / 2)+500}\n          xScale={xScaleBar}\n          yScale={yScaleBar}\n        />\n      </div>\n\n      <div id=\"derivatives\">\n        <svg height={window.innerHeight/2} width={innerWidth / 2 -60} style={{backgroundColor:'floralwhite'}} >\n          <BarChart \n            x={-50}\n            y={margin.top+200}\n            width={innerWidth / 2 }\n            height={window.innerHeight/3 + margin.gap }\n            data={PriceData}\n            setSelectedNeighbourhood={setSelectedNeighbourhood}\n            selectedNeighbourhood={selectedNeighbourhood}\n            neighbourhoodNames={neighbourhoodNames}\n            neighbourhoodsCount={neighbourhoodGrouping}\n            mouseHoveringOn={mouseHoveringOn}\n            mouseHoveringOff={mouseHoveringOff}\n            xScale={xScaleBar}\n            yScale={yScaleBar}\n            setTooltipX={setTooltipX} \n            setTooltipY={setTooltipY}\n          />\n    \n        </svg>\n        <svg height={window.innerHeight/2} width={innerWidth / 2 -60} style={{backgroundColor:'floralwhite'}}>\n          <TimeSeries\n            data={districtData}\n            x={-50}\n            y={50}\n            width={innerWidth/2}\n            height={innerHeight/2}\n            xScale={xScaleArea}\n            yScale={yScaleArea}\n            neighbourhoodNames={neighbourhoodNames}\n            setSelectedNeighbourhood={setSelectedNeighbourhood}\n            selectedNeighbourhood={selectedNeighbourhood}\n            mouseHoveringOn={mouseHoveringOn}\n            mouseHoveringOff={mouseHoveringOff}\n          />\n        </svg>\n        <svg\n          width={uiPolyWidth}\n          height={window.innerHeight}\n          id=\"polygons\"\n          ref={polyRef}\n        >\n          <Polygon\n            points={[\n              0 + \",\" + 0,\n              uiPolyWidth + \",\" + 0,\n              0 + \",\" + uiPolyHeight,\n            ]}\n          />\n          <Polygon\n            points={[\n              0 + \",\" + uiPolyHeight,\n              uiPolyWidth + \",\" + window.innerHeight,\n              0 + \",\" + window.innerHeight,\n            ]}\n          />\n        </svg>\n      </div>\n    </div>\n  );\n}\n\nexport default Shanghai;\n","import React from \"react\";\n\n\nfunction BarChartB(props) {\n  const {\n    x,\n    y,\n    width,\n    height,\n    data,\n    selectedNeighbourhood,\n    mouseHoveringOn,\n    mouseHoveringOff,\n    xScale,\n    yScale,\n    setTooltipX,\n    setTooltipY\n    } = props;\n\n  const color = (d) => d.neighbourhood === selectedNeighbourhood ? \"#e60969\" : \"#57068c\";\n  \n  const ticksx = xScale.domain();\n  const ticksy = yScale.ticks(8);\n  // console.log(data)\n\n  if (selectedNeighbourhood === \" \") {\n    return (\n      <g transform={`translate(${x}, ${y})`}>\n        <text style={{ textAnchor: \"start\", fontSize: \"20px\" }} transform={`translate(${width / 3 -50}, -140)`}>\n          {\"Average Prices of Listings per neighbourhood\"}\n        </text>\n        <line\n          x1={100}\n          y1={(height / 2) - 70}\n          x2={width - 80}\n          y2={(height / 2) - 70}\n          stroke={`black`}\n        />\n        <line y1={height/2 -70} y2={height / 2 -250} x1={100} x2={100} stroke={`black`} />\n        <g transform={`translate(${0}, ${-18})`}>\n        {ticksx.map((tickValue) => {\n          return (\n            <g key={tickValue} transform={`translate(${xScale(tickValue)}, ${(height / 2)})`}>\n            <text style={{textAnchor: 'start', fontSize:'10px' }} x={-80} y={(height / 2) - 170} transform={`rotate(50, 0, ${(height / 2) - 83})`}>\n              {tickValue.split('/')[0]}\n            </text>\n            </g>\n            );\n        })\n        }\n        {ticksy.map((tickValue) => {\n          return (\n            <g key={tickValue} transform={`translate(90, ${yScale(tickValue)-100})`}>\n              <line x2={10} stroke={\"black\"} />\n              <text style={{ textAnchor: \"end\", fontSize: \"18px\" }}>\n                {tickValue}\n              </text>\n            </g>\n          );\n        })}\n        </g>\n        <g transform={`translate(${0}, ${-115})`}>\n        {data.map((d) => {\n          //   console.log(d.neighbourhood);\n          //   console.log(d.price);\n          return (\n            <rect\n              key={d.neighbourhood + \"Bar\"}\n              x={xScale(d.neighbourhood)}\n              y={yScale(Number(d.price))}\n              width={xScale.bandwidth() -5 } //error\n              height={height / 2 +45 -yScale(d.price)}\n              fill={\"#57068c\"}\n              stroke={\"black\"}\n              onMouseOver={() => mouseHoveringOn(d)\n              }\n              onMouseOut={mouseHoveringOff}\n\n            />\n          );\n        })}\n        </g>\n      </g>\n    );\n  } else {\n    return (\n      <g transform={`translate(${x}, ${y})`}>\n      <text style={{ textAnchor: \"start\", fontSize:'20px'}} transform={`translate(${width / 3 -50}, -140)`}>\n        {\"Average Prices of Listings per neighbourhood\"}\n      </text>\n      <line\n        x1={100}\n        y1={(height / 2) - 70}\n        x2={width - 80}\n        y2={(height / 2) - 70}\n        stroke={`black`}\n      />\n        <line y1={height/2 -70} y2={height / 2 -250} x1={100} x2={100} stroke={`black`} />\n        <g transform={`translate(${0}, ${-18})`}>\n        {ticksx.map((tickValue) => {\n          return (\n            <g key={tickValue} transform={`translate(${xScale(tickValue)}, ${(height / 2)})`}>\n            <text style={{textAnchor: 'start', fontSize:'10px' }} x={-80} y={(height / 2) - 170} transform={`rotate(50, 0, ${(height / 2) - 83})`}>\n              {tickValue.split('/')[0]}\n            </text>\n            </g>\n            );\n        })\n        }\n        {ticksy.map((tickValue) => {\n          return (\n            <g key={tickValue} transform={`translate(90, ${yScale(tickValue)-100})`}>\n              <line x2={10} stroke={\"black\"} />\n              <text style={{ textAnchor: \"end\", fontSize: \"18px\" }}>\n                {tickValue}\n              </text>\n            </g>\n          );\n        })}\n        </g>\n        <g transform={`translate(${0}, ${-115})`}>\n        {data.map((d) => {\n          //console.log(key);\n          return (\n            <rect\n              key={d.neighbourhood + \"Bar\"}\n              x={xScale(d.neighbourhood)}\n              y={yScale(d.price)}\n              width={xScale.bandwidth()-5} //error\n              height={height / 2 +45 - yScale(d.price)}\n              fill={color(d)}\n              stroke={\"black\"}\n              onMouseOver={() => mouseHoveringOn(d)}\n              onMouseOut={mouseHoveringOff}\n            />\n          );\n\n        })}\n        </g>\n      </g>\n    );\n  }\n}\n\nexport default BarChartB;\n","import React from \"react\";\nimport \"./App.css\";\nimport GenerateMap from \"./components/Map.js\";\nimport Polygon from \"./components/Polygon.js\";\nimport TimeSeries from \"./components/TimeSeries.js\";\nimport BarChartB from \"./components/BarChartB.js\";\nimport Tooltip from \"./components/Tooltip.js\";\nimport * as d3 from \"d3\";\nimport { Dropdown, Selection } from 'react-dropdown-now';\nimport 'react-dropdown-now/style.css';\n\nfunction useData(csvPath) {\n  const [dataAll, setData] = React.useState([]);\n  React.useEffect(() => {\n    d3.csv(csvPath).then((data) => {\n      // data.forEach((d) => {});\n      setData(data);\n    });\n  }, []);\n\n  // console.log(dataAll);\n  return dataAll;\n}\n\nfunction Beijing(props) {\n  const {\n    name\n  }=props;\n  const [selectedNeighbourhood, setSelectedNeighbourhood] = React.useState(\" \");\n  const [tooltipX, setTooltipX] = React.useState(null);\n  const [tooltipY, setTooltipY] = React.useState(null);\n\n\n  const width = 1500;\n  const height = 990;\n  const margin = { top: 70, right: 40, bottom: 160, left: 60, gap: 40 };\n  const innerWidth = width - margin.left - margin.right - margin.gap;\n  const innerHeight = height - margin.top - margin.bottom - margin.gap;\n\n  const uiPolyHeight = window.innerHeight / 2;\n  const uiPolyWidth = 150;\n  const polyRef = React.useRef(null);\n\n  const dataPath = \"./data/listingsB.csv\";\n  const mapPath = \"./data/neighbourhoodsB.geojson\";\n  const PricePath = \"./data/av_pricesB.csv\";\n  const TooltipPath = \"./data/tooltip_statsB.csv\";\n  const monthPath = \"./data/neighbourhood_monthsB.csv\";\n\n  const dataAll = useData(dataPath);\n  const PriceData = useData(PricePath);\n  const TooltipData = useData(TooltipPath);\n  const monthData = useData(monthPath);\n  \n  // console.log(\"FFFFF\");\n  // console.log(TooltipData);\n\n  const neighbourhoodNames = \n    ['东城区',\n    '丰台区 / Fengtai',\n    '大兴区 / Daxing',\n    '密云县 / Miyun',\n    '平谷区 / Pinggu',\n    '延庆县 / Yanqing',\n    '怀柔区 / Huairou',\n    '房山区',\n    '昌平区',\n    '朝阳区 / Chaoyang',\n    '海淀区',\n    '石景山区',\n    '西城区',\n    '通州区 / Tongzhou',\n    '门头沟区 / Mentougou',\n    '顺义区 / Shunyi'];\n\n  let neighbourhoodGrouping = [\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n    [],\n  ];\n\n  dataAll.filter(function (d) {\n    //\"青浦区 / Qingpu District\"\n    if (d.neighbourhood === '东城区') {\n      neighbourhoodGrouping[0].push(d);\n    }\n    //\"黄浦区 / Huangpu District\"\n    if (d.neighbourhood === '丰台区 / Fengtai') {\n      neighbourhoodGrouping[1].push(d);\n    }\n    //\"浦东新区 / Pudong\"\n    if (d.neighbourhood === '大兴区 / Daxing') {\n      neighbourhoodGrouping[2].push(d);\n    }\n    //\"杨浦区 / Yangpu District\"\n    if (d.neighbourhood === '密云县 / Miyun') {\n      neighbourhoodGrouping[3].push(d);\n    }\n    //\"虹口区 / Hongkou District\"\n    if (d.neighbourhood === '平谷区 / Pinggu') {\n      neighbourhoodGrouping[4].push(d);\n    }\n    //\"静安区 / Jing'an District\"\n    if (d.neighbourhood === '延庆县 / Yanqing') {\n      neighbourhoodGrouping[5].push(d);\n    }\n    //\"宝山区 / Baoshan District\"\n    if (d.neighbourhood === '怀柔区 / Huairou') {\n      neighbourhoodGrouping[6].push(d);\n    }\n    //\"普陀区 / Putuo District\"\n    if (d.neighbourhood === '房山区') {\n      neighbourhoodGrouping[7].push(d);\n    }\n    //\"长宁区 / Changning District\"\n    if (d.neighbourhood === '昌平区') {\n      neighbourhoodGrouping[8].push(d);\n    }\n    //\"徐汇区 / Xuhui District\"\n    if (d.neighbourhood === '朝阳区 / Chaoyang') {\n      neighbourhoodGrouping[9].push(d);\n    }\n    //\"闵行区 / Minhang District\"\n    if (d.neighbourhood === '海淀区') {\n      neighbourhoodGrouping[10].push(d);\n    }\n    //\"嘉定区 / Jiading District\"\n    if (d.neighbourhood === '石景山区') {\n      neighbourhoodGrouping[11].push(d);\n    }\n    //\"崇明区 / Chongming District\"\n    if (d.neighbourhood === '西城区') {\n      neighbourhoodGrouping[12].push(d);\n    }\n    //\"奉贤区 / Fengxian District\"\n    if (d.neighbourhood === '通州区 / Tongzhou') {\n      neighbourhoodGrouping[13].push(d);\n    }\n    //\"金山区 / Jinshan District\"\n    if (d.neighbourhood ==='门头沟区 / Mentougou') {\n      neighbourhoodGrouping[14].push(d);\n    }\n    //\"松江区 / Songjiang District\"\n    if (d.neighbourhood === '顺义区 / Shunyi') {\n      neighbourhoodGrouping[15].push(d);\n    }\n  });\n\n  const selected = TooltipData.filter(\n    (d) => d.neighbourhood === selectedNeighbourhood\n  )[0];\n\n  const districtData = monthData.filter( d=> {\n    return d.neighbourhood == selectedNeighbourhood;\n  });\n\n  const mouseHoveringOn = (d) => {\n    setSelectedNeighbourhood(d.neighbourhood);\n    setTooltipX(480);\n    setTooltipY(550);\n    console.log(\"mouse over on\");\n  };\n  const mouseHoveringOff = () => {\n    setSelectedNeighbourhood(\" \");\n    console.log(\"mouse over off\");\n    setTooltipX(null);\n    setTooltipY(null);\n  };\n\n  const xScaleBar = d3\n    .scaleBand()\n    .range([100, window.innerWidth - 800])\n    .domain(PriceData.map((d) => d.neighbourhood));\n\n  const yScaleBar = d3\n    .scaleLinear()\n    .range([window.innerHeight / 4, 0])\n    .domain([0, d3.max(PriceData, (d) => Number(d.price))])\n    .nice();\n\n  const xScaleArea =  d3.scaleBand()\n    .range([0, (innerWidth-800)])\n    .domain(districtData.map((d)=> d.date));\n\n  const yScaleArea = d3.scaleLinear()\n    .range([window.innerHeight/4 + 25,0])\n    .domain([0, d3.max(districtData, d => Number(d.total))])\n    .nice();\n\n\n  if (polyRef.current != null) {\n    if (\n      selectedNeighbourhood != \" \" &&\n      polyRef.current.style.animationName != \"removePoly\"\n    ) {\n      polyRef.current.style.animation = \"removePoly ease-out 0.5s forwards\";\n    } else if (\n      selectedNeighbourhood == \" \" &&\n      polyRef.current.style.animationName != \"removePolyrev\"\n    ) {\n      polyRef.current.style.animation = \"removePolyrev ease-out 0.5s forwards\";\n    }\n  }\n\n\n\n  \n  // normal usage\n\n\n  return (\n    <div className=\"App\">\n\n\n      <div id=\"choropleth\">\n\n        <GenerateMap\n          x={margin.left}\n          y={margin.top+50}\n          WIDTH={innerWidth / 2}\n          HEIGHT={innerHeight + margin.gap+50}\n          data={dataAll}\n          path={mapPath}\n          setSelectedNeighbourhood={setSelectedNeighbourhood}\n          selectedNeighbourhood={selectedNeighbourhood}\n          neighbourhoodNames={neighbourhoodNames}\n          neighbourhoodsCount={neighbourhoodGrouping}\n          setTooltipX={setTooltipX} \n          setTooltipY={setTooltipY}\n          name={name}\n        />\n\n        <div id=\"selectNeighbourhood\">{\": \" + selectedNeighbourhood}</div>\n\n        <Tooltip\n          d={selectedNeighbourhood}\n          data={TooltipData}\n          left={tooltipX}\n          top={tooltipY}\n          height={innerHeight / 2}\n          width={(innerWidth / 2)+500}\n          xScale={xScaleBar}\n          yScale={yScaleBar}\n        />\n        </div>\n\n\n        <div id=\"derivatives\">\n        <svg height={window.innerHeight/2} width={innerWidth / 2 -60} style={{backgroundColor:'floralwhite'}} >\n          <BarChartB \n            x={-50}\n            y={margin.top+200}\n            width={innerWidth / 2}\n            height={window.innerHeight/3 + margin.gap }\n            data={PriceData}\n            setSelectedNeighbourhood={setSelectedNeighbourhood}\n            selectedNeighbourhood={selectedNeighbourhood}\n            neighbourhoodNames={neighbourhoodNames}\n            neighbourhoodsCount={neighbourhoodGrouping}\n            mouseHoveringOn={mouseHoveringOn}\n            mouseHoveringOff={mouseHoveringOff}\n            xScale={xScaleBar}\n            yScale={yScaleBar}\n            setTooltipX={setTooltipX} \n            setTooltipY={setTooltipY}\n          />\n\n        </svg>\n        <svg height={window.innerHeight/2} width={innerWidth / 2 -60} style={{backgroundColor:'floralwhite'}}>\n        <TimeSeries\n          data={districtData}\n          x={-50}\n          y={50}\n          width={innerWidth/2}\n          height={innerHeight/2}\n          xScale={xScaleArea}\n          yScale={yScaleArea}\n          neighbourhoodNames={neighbourhoodNames}\n          setSelectedNeighbourhood={setSelectedNeighbourhood}\n          selectedNeighbourhood={selectedNeighbourhood}\n          mouseHoveringOn={mouseHoveringOn}\n          mouseHoveringOff={mouseHoveringOff}\n        />\n        </svg>\n        <svg\n          width={uiPolyWidth}\n          height={window.innerHeight}\n          id=\"polygons\"\n          ref={polyRef}\n        >\n          <Polygon\n            points={[\n              0 + \",\" + 0,\n              uiPolyWidth + \",\" + 0,\n              0 + \",\" + uiPolyHeight,\n            ]}\n          />\n          <Polygon\n            points={[\n              0 + \",\" + uiPolyHeight,\n              uiPolyWidth + \",\" + window.innerHeight,\n              0 + \",\" + window.innerHeight,\n            ]}\n          />\n        </svg>\n      </div>\n\n    </div>\n  );\n}\n\nexport default Beijing;\n","import React from \"react\";\nimport \"./App.css\";\nimport Shanghai from \"./Shanghai.js\";\nimport Beijing from \"./Beijing.js\";\nimport GenerateMap from \"./components/Map.js\";\nimport Polygon from \"./components/Polygon.js\";\nimport TimeSeries from \"./components/TimeSeries.js\";\nimport BarChart from \"./components/BarChart.js\";\nimport Tooltip from \"./components/Tooltip.js\";\nimport * as d3 from \"d3\";\nimport DropdownButton from 'react-bootstrap/DropdownButton'\nimport { Dropdown, Selection } from 'react-dropdown-now';\nimport 'react-dropdown-now/style.css';\n\n\n\nfunction App() {\n\n  const width = 1600;\n  const height = 990;\n  const margin = { top: 70, right: 40, bottom: 160, left: 60, gap: 40 };\n  const [selectedCity, setSelectedCity] = React.useState(\" \");\n\n  const Select = (d) => {\n    \n    setSelectedCity(d);\n    console.log(\"mouse over on\");\n    console.log(selectedCity.label);\n    \n  };\n\n\n\nif(selectedCity===\" \"){\n  return (\n    <div className=\"App\">\n      <div id=\"dropdown\">        \n      <Dropdown\n        style=\"position:absolute;left:0;top:0;\"\n        placeholder=\"Pick a City\"\n        options={['Shanghai', 'Beijing']}\n        value=\"one\"\n        onChange={(d) => Select(d)}\n      />\n      </div>\n      <div > \n      <div styles=\"text-align:center;\">\n\n          <svg></svg>        \n            <h1 x={100} y={200} id=\"vizTitle\" >\n              {\"Visualizing Airbnb Data for Chinese Cities\"}\n            </h1>\n            <svg></svg> \n            <h3 class=\"list-item-name\">Shanghai &amp; Beijing</h3>\n            <h4 class=\"list-item-title\"> </h4>\n\n            <ul styles=\"text-align:left;\">\n                <li> Which neighbourhoods offer the highest number of available airbnb listings?</li>\n                <li> How do listing price rates differ from neighborhood to neighbourhood?</li>\n                <li> How does the popularity of listings on Airbnb by neighbourhood change over the year?</li>\n                <li> What are the various categories of properties in China? What is their breakdown by neighbourhood?</li>\n                \n            </ul>\n            <text x={100} y={200} id=\"vizTitle\">\n              {\"Choose a city to get started!\"}\n            </text>\n          <svg></svg> \n        <svg></svg>\n        </div>\n       </div>\n  </div>)\n} else if(selectedCity.label=='Shanghai'){\n    return (\n      <div className=\"App\">\n        <div id=\"dropdown\">        \n        <Dropdown\n          style=\"position:absolute;left:0;top:0;\"\n          placeholder=\"Pick a City\"\n          options={['Shanghai', 'Beijing']}\n          value=\"one\"\n          onSelect={(d) => Select(d)}\n        />\n        </div>\n\n        <div id=\"Shanghai\" >\n          <Shanghai\n          name={'SHANGHAI'}\n          />\n        </div>\n      </div>\n    );\n}else if(selectedCity.label=='Beijing'){\n  return (\n    <div className=\"App\">\n      <div id=\"dropdown\">        \n      <Dropdown\n        style=\"position:absolute;left:0;top:0;\"\n        placeholder=\"Pick a City\"\n        options={['Shanghai', 'Beijing']}\n        value=\"one\"\n        onSelect={(d) => Select(d)}\n      />\n      </div>\n\n      <div id=\"Beijing\" >\n        <Beijing\n        name={'BEIJING'}\n        />\n\n      </div>\n\n    </div>\n  );\n}else{\n  return (\n    <div className=\"App\">\n      <div id=\"dropdown\">        \n      <Dropdown\n        style=\"position:absolute;left:0;top:0;\"\n        placeholder=\"Pick a City\"\n        options={['Shanghai', 'Beijing']}\n        value=\"one\"\n        onSelect={(d) => Select(d)}\n      />\n      </div>\n\n    </div>\n  );\n}\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}