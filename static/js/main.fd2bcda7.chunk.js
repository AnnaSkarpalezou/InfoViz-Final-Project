(this["webpackJsonpiv-airbnb"]=this["webpackJsonpiv-airbnb"]||[]).push([[0],{168:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),r=n(50),c=n.n(r),s=(n(168),n(3)),a=(n(21),n(2)),h=n(0);var l=function(e){var t=e.x,n=e.y,o=t,i=30;return Object(h.jsxs)("g",{id:"Legend",transform:"translate(0,35)",children:[Object(h.jsx)("rect",{x:t,y:n,width:o,height:i,fill:"#57068c"}),Object(h.jsxs)("text",{x:t+o+10,y:n+15+6,fill:"#57068c",children:[">","10K"]}),Object(h.jsx)("rect",{x:t,y:n+i,width:o,height:i,fill:"#702b9d"}),Object(h.jsx)("text",{x:t+o+10,y:n+51,fill:"#57068c",children:"10K - 3K"}),Object(h.jsx)("rect",{x:t,y:n+60,width:o,height:i,fill:"#8950ae"}),Object(h.jsx)("text",{x:t+o+10,y:3*n,fill:"#57068c",children:"3K - 2K"}),Object(h.jsx)("rect",{x:t,y:n+90,width:o,height:i,fill:"#a376c0"}),Object(h.jsx)("text",{x:t+o+10,y:4*n-10,fill:"#57068c",children:"2K - 1K"}),Object(h.jsx)("rect",{x:t,y:n+120,width:o,height:i,fill:"#bc9bd1"}),Object(h.jsx)("text",{x:t+o+10,y:5*n-20,fill:"#57068c",children:"1K - 600"}),Object(h.jsx)("rect",{x:t,y:n+150,width:o,height:i,fill:"#d5c1e2"}),Object(h.jsx)("text",{x:t+o+10,y:5*n+10,fill:"#57068c",children:"600 - 200"}),Object(h.jsx)("rect",{x:t,y:n+180,width:o,height:i,fill:"#eee6f3"}),Object(h.jsxs)("text",{x:t+o+10,y:6*n,fill:"#57068c",children:["<","200"]})]})};var u=function(e){var t=e.x,n=e.y,o=e.WIDTH,r=e.HEIGHT,c=(e.data,e.selectedNeighbourhood),u=e.setSelectedNeighbourhood,d=e.path,b=e.neighbourhoodNames,g=e.neighbourhoodsCount,j=e.setTooltipX,x=e.setTooltipY,f=e.name,p=function(e){var t=i.a.useState({type:"",features:[]}),n=Object(s.a)(t,2),o=n[0],r=n[1];return i.a.useEffect((function(){a.f(e).then((function(e){r(e)}))}),[]),o}(d),O=a.d().fitSize([o,r],p),m=a.e(O),y=[30,40],v=p.features.map((function(e,t){var n="#57068c",o=1;return n=g[t].length>1e4?"#57068c":g[t].length>3e3?"#702b9d":g[t].length>2e3?"#8950ae":g[t].length>1e3?"#a376c0":g[t].length>600?"#bc9bd1":g[t].length>200?"#d5c1e2":"#eee6f3"," "!=c&&(o=.7),b[t]==c&&(n="#e60969",o=1),Object(h.jsx)("path",{className:"boundary",id:"neighbourhood"+t,d:m(e),fill:n,fillOpacity:o,stroke:"#57068c",strokeWidth:"1px",neighbourhood:b[t],onMouseEnter:function(e){u(b[t]),j(e.pageX),x(e.pageY)},onMouseLeave:function(){u(" "),j(null),x(null)}},t+"boundary")}));return Object(h.jsxs)("svg",{width:o,height:r,children:[c,Object(h.jsx)("g",{id:"neighbourhoods",transform:"translate(".concat(t,", ").concat(n,") scale(.8)"),children:v}),Object(h.jsx)(l,{x:y[0],y:y[1]}),Object(h.jsxs)("text",{x:30,y:40,id:"vizTitle",children:["AIRBNBS IN ",f]})]})};var d=function(e){var t=e.points;return Object(h.jsx)("g",{className:"polygon",children:Object(h.jsx)("polygon",{points:t.join(" ")})})};var b=function(e){var t=e.data,n=e.x,o=e.y,i=e.width,r=e.height,c=e.xScale,s=e.yScale,l=(e.neighbourhoodNames,e.SelectedNeighbourhood,e.setSelectedNeighbourhood,e.mouseHoveringOn,e.mouseHoveringOff,c.domain()),u=s.ticks(10),d=a.a().x((function(e){return c(e.date)})).y0(r-129).y1((function(e){return s(Number(e.total))})).curve(a.c)(t);return Object(h.jsxs)("g",{transform:"translate(".concat(n+105,", ").concat(o+50,")"),children:[Object(h.jsx)("path",{d:d,fill:"darkblue"}),Object(h.jsx)("text",{transform:"translate(".concat(180,", ",-55,")rotate(0)"),style:{fontSize:"20px"},children:"Popularity of District"}),Object(h.jsx)("text",{transform:"translate(".concat(-55,", ").concat(-30,")rotate(0)"),style:{fontSize:"18px"},children:"Total Reviews"}),Object(h.jsx)("text",{transform:"translate(".concat(i+200,", ").concat(r-87,")rotate(0)"),style:{fontSize:"18px"},children:"Month"}),Object(h.jsx)("line",{x1:0,y1:r-129,x2:i-150,y2:r-129,stroke:"black"}),l.map((function(e){return Object(h.jsxs)("g",{transform:"translate(".concat(c(e),", ").concat(r-129,")"),children:[Object(h.jsx)("line",{y2:10,stroke:"black"}),Object(h.jsx)("text",{transform:"translate(5,-25)",style:{textAnchor:"end",fontSize:"15px"},y:50,children:e})]},e)})),Object(h.jsx)("line",{y1:r-129,y2:r-360,stroke:"black"}),u.map((function(e){return Object(h.jsxs)("g",{transform:"translate(-5, ".concat(s(e),")"),children:[Object(h.jsx)("line",{x2:5,stroke:"black"}),Object(h.jsx)("text",{style:{textAnchor:"end",fontSize:"15px"},children:e})]},e)}))]})};var g=function(e){var t=e.x,n=e.y,o=e.width,i=e.height,r=e.data,c=e.selectedNeighbourhood,s=e.mouseHoveringOn,a=e.mouseHoveringOff,l=e.xScale,u=e.yScale,d=(e.setTooltipX,e.setTooltipY,function(e){return e.neighbourhood===c?"#e60969":"#57068c"}),b=l.domain(),g=u.ticks(8);return" "===c?Object(h.jsxs)("g",{transform:"translate(".concat(t,", ").concat(n,")"),children:[Object(h.jsx)("text",{style:{textAnchor:"start",fontSize:"20px"},transform:"translate(".concat(o/3-50,", -140)"),children:"Average Prices of Listings per neighbourhood"}),Object(h.jsx)("line",{x1:100,y1:i/2-70,x2:o-80,y2:i/2-70,stroke:"black"}),Object(h.jsx)("line",{y1:i/2-70,y2:i/2-250,x1:100,x2:100,stroke:"black"}),Object(h.jsxs)("g",{transform:"translate(".concat(0,", ",-18,")"),children:[b.map((function(e){return Object(h.jsx)("g",{transform:"translate(".concat(l(e),", ").concat(i/2,")"),children:Object(h.jsx)("text",{style:{textAnchor:"start",fontSize:"10px"},x:-80,y:i/2-170,transform:"rotate(50, 0, ".concat(i/2-83,")"),children:e.split("/")[1].slice(0,e.split("/")[1].length-8)})},e)})),g.map((function(e){return Object(h.jsxs)("g",{transform:"translate(90, ".concat(u(e)-100,")"),children:[Object(h.jsx)("line",{x2:10,stroke:"black"}),Object(h.jsx)("text",{style:{textAnchor:"end",fontSize:"18px"},children:e})]},e)}))]}),Object(h.jsx)("g",{transform:"translate(".concat(0,", ",-115,")"),children:r.map((function(e){return Object(h.jsx)("rect",{x:l(e.neighbourhood),y:u(Number(e.price)),width:l.bandwidth()-5,height:i/2+45-u(e.price),fill:"#57068c",stroke:"black",onMouseOver:function(){return s(e)},onMouseOut:a},e.neighbourhood+"Bar")}))})]}):Object(h.jsxs)("g",{transform:"translate(".concat(t,", ").concat(n,")"),children:[Object(h.jsx)("text",{style:{textAnchor:"start",fontSize:"20px"},transform:"translate(".concat(o/3-50,", -140)"),children:"Average Prices of Listings per neighbourhood"}),Object(h.jsx)("line",{x1:100,y1:i/2-70,x2:o-80,y2:i/2-70,stroke:"black"}),Object(h.jsx)("line",{y1:i/2-70,y2:i/2-250,x1:100,x2:100,stroke:"black"}),Object(h.jsxs)("g",{transform:"translate(".concat(0,", ",-18,")"),children:[b.map((function(e){return Object(h.jsx)("g",{transform:"translate(".concat(l(e),", ").concat(i/2,")"),children:Object(h.jsx)("text",{style:{textAnchor:"start",fontSize:"10px"},x:-80,y:i/2-170,transform:"rotate(50, 0, ".concat(i/2-83,")"),children:e.split("/")[1].slice(0,e.split("/")[1].length-8)})},e)})),g.map((function(e){return Object(h.jsxs)("g",{transform:"translate(90, ".concat(u(e)-100,")"),children:[Object(h.jsx)("line",{x2:10,stroke:"black"}),Object(h.jsx)("text",{style:{textAnchor:"end",fontSize:"18px"},children:e})]},e)}))]}),Object(h.jsx)("g",{transform:"translate(".concat(0,", ",-115,")"),children:r.map((function(e){return Object(h.jsx)("rect",{x:l(e.neighbourhood),y:u(e.price),width:l.bandwidth()-5,height:i/2+45-u(e.price),fill:d(e),stroke:"black",onMouseOver:function(){return s(e)},onMouseOut:a},e.neighbourhood+"Bar")}))})]})};var j=function(e){var t=e.d,n=e.data,o=e.left,i=e.top;if(null===t)return Object(h.jsx)("g",{});if(n.length>0)for(var r=0;r<16;r++)if(t===n[r].neighbourhood){var c={position:"absolute",textAlign:"center",width:"300px",height:"160px",padding:"2px",font:"12px sans-serif",background:"floralwhite",border:"2px",borderRadius:"8px",pointerEvents:"none",left:"".concat(o,"px"),top:"".concat(i,"px")};return Object(h.jsxs)("div",{style:c,children:[Object(h.jsx)("p",{}),Object(h.jsxs)("p",{children:["Aggregate statistics for the ",n[r].neighbourhood]}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:["Average listing price: ",n[r].Average]}),Object(h.jsxs)("li",{children:["Maximum price: ",n[r].maximum]}),Object(h.jsxs)("li",{children:["Minimum price: ",n[r].minimum]}),Object(h.jsxs)("li",{children:["Number of entire homes/aptm: ",n[r].Entire]}),Object(h.jsxs)("li",{children:["Number of private rooms: ",n[r].Private]}),Object(h.jsxs)("li",{children:["Number of shared rooms: ",n[r].Shared]}),Object(h.jsxs)("li",{children:["Average number of reviews/month: ",n[r].reviews]})]})]})}return Object(h.jsx)("g",{})},x=n(7);n(22);function f(e){var t=i.a.useState([]),n=Object(s.a)(t,2),o=n[0],r=n[1];return i.a.useEffect((function(){a.b(e).then((function(e){r(e)}))}),[]),o}var p=function(e){var t=e.name,n=i.a.useState(" "),o=Object(s.a)(n,2),r=o[0],c=o[1],l=i.a.useState(null),x=Object(s.a)(l,2),p=x[0],O=x[1],m=i.a.useState(null),y=Object(s.a)(m,2),v=y[0],w=y[1],S=70,k=60,N=40,H=1500-k-40-N,D=990-S-160-N,A=window.innerHeight/2,T=i.a.useRef(null),C=f("./data/listings.csv"),P=f("./data/av_prices.csv"),z=f("./data/tooltip_stats.csv"),B=f("./data/neighbourhood_months.csv"),M=["\u9752\u6d66\u533a / Qingpu District","\u9ec4\u6d66\u533a / Huangpu District","\u6d66\u4e1c\u65b0\u533a / Pudong","\u6768\u6d66\u533a / Yangpu District","\u8679\u53e3\u533a / Hongkou District","\u9759\u5b89\u533a / Jing'an District","\u5b9d\u5c71\u533a / Baoshan District","\u666e\u9640\u533a / Putuo District","\u957f\u5b81\u533a / Changning District","\u5f90\u6c47\u533a / Xuhui District","\u95f5\u884c\u533a / Minhang District","\u5609\u5b9a\u533a / Jiading District","\u5d07\u660e\u533a / Chongming District","\u5949\u8d24\u533a / Fengxian District","\u91d1\u5c71\u533a / Jinshan District","\u677e\u6c5f\u533a / Songjiang District"],I=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];C.filter((function(e){"\u9752\u6d66\u533a / Qingpu District"===e.neighbourhood&&I[0].push(e),"\u9ec4\u6d66\u533a / Huangpu District"===e.neighbourhood&&I[1].push(e),"\u6d66\u4e1c\u65b0\u533a / Pudong"===e.neighbourhood&&I[2].push(e),"\u6768\u6d66\u533a / Yangpu District"===e.neighbourhood&&I[3].push(e),"\u8679\u53e3\u533a / Hongkou District"===e.neighbourhood&&I[4].push(e),"\u9759\u5b89\u533a / Jing'an District"===e.neighbourhood&&I[5].push(e),"\u5b9d\u5c71\u533a / Baoshan District"===e.neighbourhood&&I[6].push(e),"\u666e\u9640\u533a / Putuo District"===e.neighbourhood&&I[7].push(e),"\u957f\u5b81\u533a / Changning District"===e.neighbourhood&&I[8].push(e),"\u5f90\u6c47\u533a / Xuhui District"===e.neighbourhood&&I[9].push(e),"\u95f5\u884c\u533a / Minhang District"===e.neighbourhood&&I[10].push(e),"\u5609\u5b9a\u533a / Jiading District"===e.neighbourhood&&I[11].push(e),"\u5d07\u660e\u533a / Chongming District"===e.neighbourhood&&I[12].push(e),"\u5949\u8d24\u533a / Fengxian District"===e.neighbourhood&&I[13].push(e),"\u91d1\u5c71\u533a / Jinshan District"===e.neighbourhood&&I[14].push(e),"\u677e\u6c5f\u533a / Songjiang District"===e.neighbourhood&&I[15].push(e)})),z.filter((function(e){return e.neighbourhood===r}))[0];var Y=B.filter((function(e){return e.neighbourhood==r})),E=function(e){c(e.neighbourhood),O(480),w(550),console.log("mouse over on")},X=function(){c(" "),console.log("mouse over off"),O(null),w(null)},J=a.h().range([100,window.innerWidth-800]).domain(P.map((function(e){return e.neighbourhood}))),W=a.i().range([window.innerHeight/4,0]).domain([0,a.g(P,(function(e){return Number(e.price)}))]).nice(),F=a.h().range([0,H-800]).domain(Y.map((function(e){return e.date}))),K=a.i().range([window.innerHeight/4+25,0]).domain([0,a.g(Y,(function(e){return Number(e.total)}))]).nice();return null!=T.current&&(" "!=r&&"removePoly"!=T.current.style.animationName?T.current.style.animation="removePoly ease-out 0.5s forwards":" "==r&&"removePolyrev"!=T.current.style.animationName&&(T.current.style.animation="removePolyrev ease-out 0.5s forwards")),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("div",{id:"choropleth",children:[Object(h.jsx)(u,{x:k,y:S+50,WIDTH:H/2,HEIGHT:D+N+50,data:C,path:"./data/neighbourhoods.geojson",setSelectedNeighbourhood:c,selectedNeighbourhood:r,neighbourhoodNames:M,neighbourhoodsCount:I,setTooltipX:O,setTooltipY:w,name:t}),Object(h.jsx)("div",{id:"selectNeighbourhood",children:": "+r}),Object(h.jsx)(j,{d:r,data:z,left:p,top:v,height:D/2,width:H/2+500,xScale:J,yScale:W})]}),Object(h.jsxs)("div",{id:"derivatives",children:[Object(h.jsx)("svg",{height:window.innerHeight/2,width:H/2-60,style:{backgroundColor:"floralwhite"},children:Object(h.jsx)(g,{x:-50,y:S+200,width:H/2,height:window.innerHeight/3+N,data:P,setSelectedNeighbourhood:c,selectedNeighbourhood:r,neighbourhoodNames:M,neighbourhoodsCount:I,mouseHoveringOn:E,mouseHoveringOff:X,xScale:J,yScale:W,setTooltipX:O,setTooltipY:w})}),Object(h.jsx)("svg",{height:window.innerHeight/2,width:H/2-60,style:{backgroundColor:"floralwhite"},children:Object(h.jsx)(b,{data:Y,x:-50,y:50,width:H/2,height:D/2,xScale:F,yScale:K,neighbourhoodNames:M,setSelectedNeighbourhood:c,selectedNeighbourhood:r,mouseHoveringOn:E,mouseHoveringOff:X})}),Object(h.jsxs)("svg",{width:150,height:window.innerHeight,id:"polygons",ref:T,children:[Object(h.jsx)(d,{points:["0,0","150,0","0,"+A]}),Object(h.jsx)(d,{points:["0,"+A,"150,"+window.innerHeight,"0,"+window.innerHeight]})]})]})]})};var O=function(e){var t=e.x,n=e.y,o=e.width,i=e.height,r=e.data,c=e.selectedNeighbourhood,s=e.mouseHoveringOn,a=e.mouseHoveringOff,l=e.xScale,u=e.yScale,d=(e.setTooltipX,e.setTooltipY,function(e){return e.neighbourhood===c?"#e60969":"#57068c"}),b=l.domain(),g=u.ticks(8);return" "===c?Object(h.jsxs)("g",{transform:"translate(".concat(t,", ").concat(n,")"),children:[Object(h.jsx)("text",{style:{textAnchor:"start",fontSize:"20px"},transform:"translate(".concat(o/3-50,", -140)"),children:"Average Prices of Listings per neighbourhood"}),Object(h.jsx)("line",{x1:100,y1:i/2-70,x2:o-80,y2:i/2-70,stroke:"black"}),Object(h.jsx)("line",{y1:i/2-70,y2:i/2-250,x1:100,x2:100,stroke:"black"}),Object(h.jsxs)("g",{transform:"translate(".concat(0,", ",-18,")"),children:[b.map((function(e){return Object(h.jsx)("g",{transform:"translate(".concat(l(e),", ").concat(i/2,")"),children:Object(h.jsx)("text",{style:{textAnchor:"start",fontSize:"10px"},x:-80,y:i/2-170,transform:"rotate(50, 0, ".concat(i/2-83,")"),children:e.split("/")[0]})},e)})),g.map((function(e){return Object(h.jsxs)("g",{transform:"translate(90, ".concat(u(e)-100,")"),children:[Object(h.jsx)("line",{x2:10,stroke:"black"}),Object(h.jsx)("text",{style:{textAnchor:"end",fontSize:"18px"},children:e})]},e)}))]}),Object(h.jsx)("g",{transform:"translate(".concat(0,", ",-115,")"),children:r.map((function(e){return Object(h.jsx)("rect",{x:l(e.neighbourhood),y:u(Number(e.price)),width:l.bandwidth()-5,height:i/2+45-u(e.price),fill:"#57068c",stroke:"black",onMouseOver:function(){return s(e)},onMouseOut:a},e.neighbourhood+"Bar")}))})]}):Object(h.jsxs)("g",{transform:"translate(".concat(t,", ").concat(n,")"),children:[Object(h.jsx)("text",{style:{textAnchor:"start",fontSize:"20px"},transform:"translate(".concat(o/3-50,", -140)"),children:"Average Prices of Listings per neighbourhood"}),Object(h.jsx)("line",{x1:100,y1:i/2-70,x2:o-80,y2:i/2-70,stroke:"black"}),Object(h.jsx)("line",{y1:i/2-70,y2:i/2-250,x1:100,x2:100,stroke:"black"}),Object(h.jsxs)("g",{transform:"translate(".concat(0,", ",-18,")"),children:[b.map((function(e){return Object(h.jsx)("g",{transform:"translate(".concat(l(e),", ").concat(i/2,")"),children:Object(h.jsx)("text",{style:{textAnchor:"start",fontSize:"10px"},x:-80,y:i/2-170,transform:"rotate(50, 0, ".concat(i/2-83,")"),children:e.split("/")[0]})},e)})),g.map((function(e){return Object(h.jsxs)("g",{transform:"translate(90, ".concat(u(e)-100,")"),children:[Object(h.jsx)("line",{x2:10,stroke:"black"}),Object(h.jsx)("text",{style:{textAnchor:"end",fontSize:"18px"},children:e})]},e)}))]}),Object(h.jsx)("g",{transform:"translate(".concat(0,", ",-115,")"),children:r.map((function(e){return Object(h.jsx)("rect",{x:l(e.neighbourhood),y:u(e.price),width:l.bandwidth()-5,height:i/2+45-u(e.price),fill:d(e),stroke:"black",onMouseOver:function(){return s(e)},onMouseOut:a},e.neighbourhood+"Bar")}))})]})};function m(e){var t=i.a.useState([]),n=Object(s.a)(t,2),o=n[0],r=n[1];return i.a.useEffect((function(){a.b(e).then((function(e){r(e)}))}),[]),o}var y=function(e){var t=e.name,n=i.a.useState(" "),o=Object(s.a)(n,2),r=o[0],c=o[1],l=i.a.useState(null),g=Object(s.a)(l,2),x=g[0],f=g[1],p=i.a.useState(null),y=Object(s.a)(p,2),v=y[0],w=y[1],S=70,k=60,N=40,H=1500-k-40-N,D=990-S-160-N,A=window.innerHeight/2,T=i.a.useRef(null),C=m("./data/listingsB.csv"),P=m("./data/av_pricesB.csv"),z=m("./data/tooltip_statsB.csv"),B=m("./data/neighbourhood_monthsB.csv"),M=["\u4e1c\u57ce\u533a","\u4e30\u53f0\u533a / Fengtai","\u5927\u5174\u533a / Daxing","\u5bc6\u4e91\u53bf / Miyun","\u5e73\u8c37\u533a / Pinggu","\u5ef6\u5e86\u53bf / Yanqing","\u6000\u67d4\u533a / Huairou","\u623f\u5c71\u533a","\u660c\u5e73\u533a","\u671d\u9633\u533a / Chaoyang","\u6d77\u6dc0\u533a","\u77f3\u666f\u5c71\u533a","\u897f\u57ce\u533a","\u901a\u5dde\u533a / Tongzhou","\u95e8\u5934\u6c9f\u533a / Mentougou","\u987a\u4e49\u533a / Shunyi"],I=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];C.filter((function(e){"\u4e1c\u57ce\u533a"===e.neighbourhood&&I[0].push(e),"\u4e30\u53f0\u533a / Fengtai"===e.neighbourhood&&I[1].push(e),"\u5927\u5174\u533a / Daxing"===e.neighbourhood&&I[2].push(e),"\u5bc6\u4e91\u53bf / Miyun"===e.neighbourhood&&I[3].push(e),"\u5e73\u8c37\u533a / Pinggu"===e.neighbourhood&&I[4].push(e),"\u5ef6\u5e86\u53bf / Yanqing"===e.neighbourhood&&I[5].push(e),"\u6000\u67d4\u533a / Huairou"===e.neighbourhood&&I[6].push(e),"\u623f\u5c71\u533a"===e.neighbourhood&&I[7].push(e),"\u660c\u5e73\u533a"===e.neighbourhood&&I[8].push(e),"\u671d\u9633\u533a / Chaoyang"===e.neighbourhood&&I[9].push(e),"\u6d77\u6dc0\u533a"===e.neighbourhood&&I[10].push(e),"\u77f3\u666f\u5c71\u533a"===e.neighbourhood&&I[11].push(e),"\u897f\u57ce\u533a"===e.neighbourhood&&I[12].push(e),"\u901a\u5dde\u533a / Tongzhou"===e.neighbourhood&&I[13].push(e),"\u95e8\u5934\u6c9f\u533a / Mentougou"===e.neighbourhood&&I[14].push(e),"\u987a\u4e49\u533a / Shunyi"===e.neighbourhood&&I[15].push(e)})),z.filter((function(e){return e.neighbourhood===r}))[0];var Y=B.filter((function(e){return e.neighbourhood==r})),E=function(e){c(e.neighbourhood),f(480),w(550),console.log("mouse over on")},X=function(){c(" "),console.log("mouse over off"),f(null),w(null)},J=a.h().range([100,window.innerWidth-800]).domain(P.map((function(e){return e.neighbourhood}))),W=a.i().range([window.innerHeight/4,0]).domain([0,a.g(P,(function(e){return Number(e.price)}))]).nice(),F=a.h().range([0,H-800]).domain(Y.map((function(e){return e.date}))),K=a.i().range([window.innerHeight/4+25,0]).domain([0,a.g(Y,(function(e){return Number(e.total)}))]).nice();return null!=T.current&&(" "!=r&&"removePoly"!=T.current.style.animationName?T.current.style.animation="removePoly ease-out 0.5s forwards":" "==r&&"removePolyrev"!=T.current.style.animationName&&(T.current.style.animation="removePolyrev ease-out 0.5s forwards")),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("div",{id:"choropleth",children:[Object(h.jsx)(u,{x:k,y:S+50,WIDTH:H/2,HEIGHT:D+N+50,data:C,path:"./data/neighbourhoodsB.geojson",setSelectedNeighbourhood:c,selectedNeighbourhood:r,neighbourhoodNames:M,neighbourhoodsCount:I,setTooltipX:f,setTooltipY:w,name:t}),Object(h.jsx)("div",{id:"selectNeighbourhood",children:": "+r}),Object(h.jsx)(j,{d:r,data:z,left:x,top:v,height:D/2,width:H/2+500,xScale:J,yScale:W})]}),Object(h.jsxs)("div",{id:"derivatives",children:[Object(h.jsx)("svg",{height:window.innerHeight/2,width:H/2-60,style:{backgroundColor:"floralwhite"},children:Object(h.jsx)(O,{x:-50,y:S+200,width:H/2,height:window.innerHeight/3+N,data:P,setSelectedNeighbourhood:c,selectedNeighbourhood:r,neighbourhoodNames:M,neighbourhoodsCount:I,mouseHoveringOn:E,mouseHoveringOff:X,xScale:J,yScale:W,setTooltipX:f,setTooltipY:w})}),Object(h.jsx)("svg",{height:window.innerHeight/2,width:H/2-60,style:{backgroundColor:"floralwhite"},children:Object(h.jsx)(b,{data:Y,x:-50,y:50,width:H/2,height:D/2,xScale:F,yScale:K,neighbourhoodNames:M,setSelectedNeighbourhood:c,selectedNeighbourhood:r,mouseHoveringOn:E,mouseHoveringOff:X})}),Object(h.jsxs)("svg",{width:150,height:window.innerHeight,id:"polygons",ref:T,children:[Object(h.jsx)(d,{points:["0,0","150,0","0,"+A]}),Object(h.jsx)(d,{points:["0,"+A,"150,"+window.innerHeight,"0,"+window.innerHeight]})]})]})]})};var v=function(){var e=i.a.useState(" "),t=Object(s.a)(e,2),n=t[0],o=t[1],r=function(e){o(e),console.log("mouse over on"),console.log(n.label)};return" "===n?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{id:"dropdown",children:Object(h.jsx)(x.a,{style:"position:absolute;left:0;top:0;",placeholder:"Pick a City",options:["Shanghai","Beijing"],value:"one",onChange:function(e){return r(e)}})}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{styles:"text-align:center;",children:[Object(h.jsx)("svg",{}),Object(h.jsx)("h1",{x:100,y:200,id:"vizTitle",children:"Visualizing Airbnb Data for Chinese Cities"}),Object(h.jsx)("svg",{}),Object(h.jsx)("h3",{class:"list-item-name",children:"Shanghai & Beijing"}),Object(h.jsx)("h4",{class:"list-item-title",children:" "}),Object(h.jsxs)("ul",{styles:"text-align:left;",children:[Object(h.jsx)("li",{children:" Which neighbourhoods offer the highest number of available airbnb listings?"}),Object(h.jsx)("li",{children:" How do listing price rates differ from neighborhood to neighbourhood?"}),Object(h.jsx)("li",{children:" How does the popularity of listings on Airbnb by neighbourhood change over the year?"}),Object(h.jsx)("li",{children:" What are the various categories of properties in China? What is their breakdown by neighbourhood?"})]}),Object(h.jsx)("text",{x:100,y:200,id:"vizTitle",children:"Choose a city to get started!"}),Object(h.jsx)("svg",{}),Object(h.jsx)("svg",{})]})})]}):"Shanghai"==n.label?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{id:"dropdown",children:Object(h.jsx)(x.a,{style:"position:absolute;left:0;top:0;",placeholder:"Pick a City",options:["Shanghai","Beijing"],value:"one",onSelect:function(e){return r(e)}})}),Object(h.jsx)("div",{id:"Shanghai",children:Object(h.jsx)(p,{name:"SHANGHAI"})})]}):"Beijing"==n.label?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{id:"dropdown",children:Object(h.jsx)(x.a,{style:"position:absolute;left:0;top:0;",placeholder:"Pick a City",options:["Shanghai","Beijing"],value:"one",onSelect:function(e){return r(e)}})}),Object(h.jsx)("div",{id:"Beijing",children:Object(h.jsx)(y,{name:"BEIJING"})})]}):Object(h.jsx)("div",{className:"App",children:Object(h.jsx)("div",{id:"dropdown",children:Object(h.jsx)(x.a,{style:"position:absolute;left:0;top:0;",placeholder:"Pick a City",options:["Shanghai","Beijing"],value:"one",onSelect:function(e){return r(e)}})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),i(e),r(e),c(e)}))};c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),w()},21:function(e,t,n){}},[[172,1,2]]]);
//# sourceMappingURL=main.fd2bcda7.chunk.js.map